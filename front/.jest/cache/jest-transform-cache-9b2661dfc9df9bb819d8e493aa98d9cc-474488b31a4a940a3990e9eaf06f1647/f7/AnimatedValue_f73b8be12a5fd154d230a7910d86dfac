94d6472d7e928ec5befee60c45347bb2
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var AnimatedInterpolation = require("./AnimatedInterpolation");
var AnimatedWithChildren = require("./AnimatedWithChildren");
var InteractionManager = require("../../Interaction/InteractionManager");
var NativeAnimatedHelper = require("../NativeAnimatedHelper");
var NativeAnimatedAPI = NativeAnimatedHelper.API;
function _flush(rootNode) {
  var animatedStyles = new Set();
  function findAnimatedStyles(node) {
    if (typeof node.update === 'function') {
      animatedStyles.add(node);
    } else {
      node.__getChildren().forEach(findAnimatedStyles);
    }
  }
  findAnimatedStyles(rootNode);
  animatedStyles.forEach(function (animatedStyle) {
    return animatedStyle.update();
  });
}
function _executeAsAnimatedBatch(id, operation) {
  NativeAnimatedAPI.setWaitingForIdentifier(id);
  operation();
  NativeAnimatedAPI.unsetWaitingForIdentifier(id);
}
var AnimatedValue = function (_AnimatedWithChildren) {
  (0, _inherits2.default)(AnimatedValue, _AnimatedWithChildren);
  var _super = _createSuper(AnimatedValue);
  function AnimatedValue(value, config) {
    var _this;
    (0, _classCallCheck2.default)(this, AnimatedValue);
    _this = _super.call(this);
    if (typeof value !== 'number') {
      throw new Error('AnimatedValue: Attempting to set value to undefined');
    }
    _this._startingValue = _this._value = value;
    _this._offset = 0;
    _this._animation = null;
    if (config && config.useNativeDriver) {
      _this.__makeNative();
    }
    return _this;
  }
  (0, _createClass2.default)(AnimatedValue, [{
    key: "__detach",
    value: function __detach() {
      var _this2 = this;
      if (this.__isNative) {
        NativeAnimatedAPI.getValue(this.__getNativeTag(), function (value) {
          _this2._value = value - _this2._offset;
        });
      }
      this.stopAnimation();
      (0, _get2.default)((0, _getPrototypeOf2.default)(AnimatedValue.prototype), "__detach", this).call(this);
    }
  }, {
    key: "__getValue",
    value: function __getValue() {
      return this._value + this._offset;
    }
  }, {
    key: "setValue",
    value: function setValue(value) {
      var _this3 = this;
      if (this._animation) {
        this._animation.stop();
        this._animation = null;
      }
      this._updateValue(value, !this.__isNative);
      if (this.__isNative) {
        _executeAsAnimatedBatch(this.__getNativeTag().toString(), function () {
          return NativeAnimatedAPI.setAnimatedNodeValue(_this3.__getNativeTag(), value);
        });
      }
    }
  }, {
    key: "setOffset",
    value: function setOffset(offset) {
      this._offset = offset;
      if (this.__isNative) {
        NativeAnimatedAPI.setAnimatedNodeOffset(this.__getNativeTag(), offset);
      }
    }
  }, {
    key: "flattenOffset",
    value: function flattenOffset() {
      this._value += this._offset;
      this._offset = 0;
      if (this.__isNative) {
        NativeAnimatedAPI.flattenAnimatedNodeOffset(this.__getNativeTag());
      }
    }
  }, {
    key: "extractOffset",
    value: function extractOffset() {
      this._offset += this._value;
      this._value = 0;
      if (this.__isNative) {
        NativeAnimatedAPI.extractAnimatedNodeOffset(this.__getNativeTag());
      }
    }
  }, {
    key: "stopAnimation",
    value: function stopAnimation(callback) {
      this.stopTracking();
      this._animation && this._animation.stop();
      this._animation = null;
      if (callback) {
        if (this.__isNative) {
          NativeAnimatedAPI.getValue(this.__getNativeTag(), callback);
        } else {
          callback(this.__getValue());
        }
      }
    }
  }, {
    key: "resetAnimation",
    value: function resetAnimation(callback) {
      this.stopAnimation(callback);
      this._value = this._startingValue;
      if (this.__isNative) {
        NativeAnimatedAPI.setAnimatedNodeValue(this.__getNativeTag(), this._startingValue);
      }
    }
  }, {
    key: "__onAnimatedValueUpdateReceived",
    value: function __onAnimatedValueUpdateReceived(value) {
      this._updateValue(value, false);
    }
  }, {
    key: "interpolate",
    value: function interpolate(config) {
      return new AnimatedInterpolation(this, config);
    }
  }, {
    key: "animate",
    value: function animate(animation, callback) {
      var _this4 = this;
      var handle = null;
      if (animation.__isInteraction) {
        handle = InteractionManager.createInteractionHandle();
      }
      var previousAnimation = this._animation;
      this._animation && this._animation.stop();
      this._animation = animation;
      animation.start(this._value, function (value) {
        _this4._updateValue(value, true);
      }, function (result) {
        _this4._animation = null;
        if (handle !== null) {
          InteractionManager.clearInteractionHandle(handle);
        }
        callback && callback(result);
      }, previousAnimation, this);
    }
  }, {
    key: "stopTracking",
    value: function stopTracking() {
      this._tracking && this._tracking.__detach();
      this._tracking = null;
    }
  }, {
    key: "track",
    value: function track(tracking) {
      this.stopTracking();
      this._tracking = tracking;
      this._tracking && this._tracking.update();
    }
  }, {
    key: "_updateValue",
    value: function _updateValue(value, flush) {
      if (value === undefined) {
        throw new Error('AnimatedValue: Attempting to set value to undefined');
      }
      this._value = value;
      if (flush) {
        _flush(this);
      }
      (0, _get2.default)((0, _getPrototypeOf2.default)(AnimatedValue.prototype), "__callListeners", this).call(this, this.__getValue());
    }
  }, {
    key: "__getNativeConfig",
    value: function __getNativeConfig() {
      return {
        type: 'value',
        value: this._value,
        offset: this._offset
      };
    }
  }]);
  return AnimatedValue;
}(AnimatedWithChildren);
module.exports = AnimatedValue;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiX2dldDIiLCJfaW5oZXJpdHMyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2dldFByb3RvdHlwZU9mMiIsIl9jcmVhdGVTdXBlciIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9jcmVhdGVTdXBlckludGVybmFsIiwiU3VwZXIiLCJkZWZhdWx0IiwicmVzdWx0IiwiTmV3VGFyZ2V0IiwiY29uc3RydWN0b3IiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiYXJndW1lbnRzIiwiYXBwbHkiLCJzaGFtIiwiUHJveHkiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsImNhbGwiLCJlIiwiQW5pbWF0ZWRJbnRlcnBvbGF0aW9uIiwiQW5pbWF0ZWRXaXRoQ2hpbGRyZW4iLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJOYXRpdmVBbmltYXRlZEhlbHBlciIsIk5hdGl2ZUFuaW1hdGVkQVBJIiwiQVBJIiwiX2ZsdXNoIiwicm9vdE5vZGUiLCJhbmltYXRlZFN0eWxlcyIsIlNldCIsImZpbmRBbmltYXRlZFN0eWxlcyIsIm5vZGUiLCJ1cGRhdGUiLCJhZGQiLCJfX2dldENoaWxkcmVuIiwiZm9yRWFjaCIsImFuaW1hdGVkU3R5bGUiLCJfZXhlY3V0ZUFzQW5pbWF0ZWRCYXRjaCIsImlkIiwib3BlcmF0aW9uIiwic2V0V2FpdGluZ0ZvcklkZW50aWZpZXIiLCJ1bnNldFdhaXRpbmdGb3JJZGVudGlmaWVyIiwiQW5pbWF0ZWRWYWx1ZSIsIl9BbmltYXRlZFdpdGhDaGlsZHJlbiIsIl9zdXBlciIsInZhbHVlIiwiY29uZmlnIiwiX3RoaXMiLCJFcnJvciIsIl9zdGFydGluZ1ZhbHVlIiwiX3ZhbHVlIiwiX29mZnNldCIsIl9hbmltYXRpb24iLCJ1c2VOYXRpdmVEcml2ZXIiLCJfX21ha2VOYXRpdmUiLCJrZXkiLCJfX2RldGFjaCIsIl90aGlzMiIsIl9faXNOYXRpdmUiLCJnZXRWYWx1ZSIsIl9fZ2V0TmF0aXZlVGFnIiwic3RvcEFuaW1hdGlvbiIsIl9fZ2V0VmFsdWUiLCJzZXRWYWx1ZSIsIl90aGlzMyIsInN0b3AiLCJfdXBkYXRlVmFsdWUiLCJ0b1N0cmluZyIsInNldEFuaW1hdGVkTm9kZVZhbHVlIiwic2V0T2Zmc2V0Iiwib2Zmc2V0Iiwic2V0QW5pbWF0ZWROb2RlT2Zmc2V0IiwiZmxhdHRlbk9mZnNldCIsImZsYXR0ZW5BbmltYXRlZE5vZGVPZmZzZXQiLCJleHRyYWN0T2Zmc2V0IiwiZXh0cmFjdEFuaW1hdGVkTm9kZU9mZnNldCIsImNhbGxiYWNrIiwic3RvcFRyYWNraW5nIiwicmVzZXRBbmltYXRpb24iLCJfX29uQW5pbWF0ZWRWYWx1ZVVwZGF0ZVJlY2VpdmVkIiwiaW50ZXJwb2xhdGUiLCJhbmltYXRlIiwiYW5pbWF0aW9uIiwiX3RoaXM0IiwiaGFuZGxlIiwiX19pc0ludGVyYWN0aW9uIiwiY3JlYXRlSW50ZXJhY3Rpb25IYW5kbGUiLCJwcmV2aW91c0FuaW1hdGlvbiIsInN0YXJ0IiwiY2xlYXJJbnRlcmFjdGlvbkhhbmRsZSIsIl90cmFja2luZyIsInRyYWNrIiwidHJhY2tpbmciLCJmbHVzaCIsInVuZGVmaW5lZCIsIl9fZ2V0TmF0aXZlQ29uZmlnIiwidHlwZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJBbmltYXRlZFZhbHVlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgQW5pbWF0ZWRJbnRlcnBvbGF0aW9uID0gcmVxdWlyZSgnLi9BbmltYXRlZEludGVycG9sYXRpb24nKTtcbmNvbnN0IEFuaW1hdGVkV2l0aENoaWxkcmVuID0gcmVxdWlyZSgnLi9BbmltYXRlZFdpdGhDaGlsZHJlbicpO1xuY29uc3QgSW50ZXJhY3Rpb25NYW5hZ2VyID0gcmVxdWlyZSgnLi4vLi4vSW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25NYW5hZ2VyJyk7XG5jb25zdCBOYXRpdmVBbmltYXRlZEhlbHBlciA9IHJlcXVpcmUoJy4uL05hdGl2ZUFuaW1hdGVkSGVscGVyJyk7XG5cbmltcG9ydCB0eXBlIEFuaW1hdGVkTm9kZSBmcm9tICcuL0FuaW1hdGVkTm9kZSc7XG5pbXBvcnQgdHlwZSBBbmltYXRpb24sIHtFbmRDYWxsYmFja30gZnJvbSAnLi4vYW5pbWF0aW9ucy9BbmltYXRpb24nO1xuaW1wb3J0IHR5cGUge0ludGVycG9sYXRpb25Db25maWdUeXBlfSBmcm9tICcuL0FuaW1hdGVkSW50ZXJwb2xhdGlvbic7XG5pbXBvcnQgdHlwZSBBbmltYXRlZFRyYWNraW5nIGZyb20gJy4vQW5pbWF0ZWRUcmFja2luZyc7XG5cbmV4cG9ydCB0eXBlIEFuaW1hdGVkVmFsdWVDb25maWcgPSAkUmVhZE9ubHk8e1xuICB1c2VOYXRpdmVEcml2ZXI6IGJvb2xlYW4sXG59PjtcblxuY29uc3QgTmF0aXZlQW5pbWF0ZWRBUEkgPSBOYXRpdmVBbmltYXRlZEhlbHBlci5BUEk7XG5cbi8qKlxuICogQW5pbWF0ZWQgd29ya3MgYnkgYnVpbGRpbmcgYSBkaXJlY3RlZCBhY3ljbGljIGdyYXBoIG9mIGRlcGVuZGVuY2llc1xuICogdHJhbnNwYXJlbnRseSB3aGVuIHlvdSByZW5kZXIgeW91ciBBbmltYXRlZCBjb21wb25lbnRzLlxuICpcbiAqICAgICAgICAgICAgICAgbmV3IEFuaW1hdGVkLlZhbHVlKDApXG4gKiAgICAgLmludGVycG9sYXRlKCkgICAgICAgIC5pbnRlcnBvbGF0ZSgpICAgIG5ldyBBbmltYXRlZC5WYWx1ZSgxKVxuICogICAgICAgICBvcGFjaXR5ICAgICAgICAgICAgICAgdHJhbnNsYXRlWSAgICAgIHNjYWxlXG4gKiAgICAgICAgICBzdHlsZSAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1cbiAqICAgICAgICAgVmlldyMyMzQgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWV3IzEyM1xuICpcbiAqIEEpIFRvcCBEb3duIHBoYXNlXG4gKiBXaGVuIGFuIEFuaW1hdGVkLlZhbHVlIGlzIHVwZGF0ZWQsIHdlIHJlY3Vyc2l2ZWx5IGdvIGRvd24gdGhyb3VnaCB0aGlzXG4gKiBncmFwaCBpbiBvcmRlciB0byBmaW5kIGxlYWYgbm9kZXM6IHRoZSB2aWV3cyB0aGF0IHdlIGZsYWcgYXMgbmVlZGluZ1xuICogYW4gdXBkYXRlLlxuICpcbiAqIEIpIEJvdHRvbSBVcCBwaGFzZVxuICogV2hlbiBhIHZpZXcgaXMgZmxhZ2dlZCBhcyBuZWVkaW5nIGFuIHVwZGF0ZSwgd2UgcmVjdXJzaXZlbHkgZ28gYmFjayB1cFxuICogaW4gb3JkZXIgdG8gYnVpbGQgdGhlIG5ldyB2YWx1ZSB0aGF0IGl0IG5lZWRzLiBUaGUgcmVhc29uIHdoeSB3ZSBuZWVkXG4gKiB0aGlzIHR3by1waGFzZXMgcHJvY2VzcyBpcyB0byBkZWFsIHdpdGggY29tcG9zaXRlIHByb3BzIHN1Y2ggYXNcbiAqIHRyYW5zZm9ybSB3aGljaCBjYW4gcmVjZWl2ZSB2YWx1ZXMgZnJvbSBtdWx0aXBsZSBwYXJlbnRzLlxuICovXG5mdW5jdGlvbiBfZmx1c2gocm9vdE5vZGU6IEFuaW1hdGVkVmFsdWUpOiB2b2lkIHtcbiAgY29uc3QgYW5pbWF0ZWRTdHlsZXMgPSBuZXcgU2V0KCk7XG4gIGZ1bmN0aW9uIGZpbmRBbmltYXRlZFN0eWxlcyhub2RlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWROb2RlKSB7XG4gICAgLyogJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddICg+PTAuNjguMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50XG4gICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjggd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yXG4gICAgICogZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgaWYgKHR5cGVvZiBub2RlLnVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYW5pbWF0ZWRTdHlsZXMuYWRkKG5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLl9fZ2V0Q2hpbGRyZW4oKS5mb3JFYWNoKGZpbmRBbmltYXRlZFN0eWxlcyk7XG4gICAgfVxuICB9XG4gIGZpbmRBbmltYXRlZFN0eWxlcyhyb290Tm9kZSk7XG4gIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICBhbmltYXRlZFN0eWxlcy5mb3JFYWNoKGFuaW1hdGVkU3R5bGUgPT4gYW5pbWF0ZWRTdHlsZS51cGRhdGUoKSk7XG59XG5cbi8qKlxuICogU29tZSBvcGVyYXRpb25zIGFyZSBleGVjdXRlZCBvbmx5IG9uIGJhdGNoIGVuZCwgd2hpY2ggaXMgX21vc3RseV8gc2NoZWR1bGVkIHdoZW5cbiAqIEFuaW1hdGVkIGNvbXBvbmVudCBwcm9wcyBjaGFuZ2UuIEZvciBzb21lIG9mIHRoZSBjaGFuZ2VzIHdoaWNoIHJlcXVpcmUgaW1tZWRpYXRlIGV4ZWN1dGlvblxuICogKGUuZy4gc2V0VmFsdWUpLCB3ZSBjcmVhdGUgYSBzZXBhcmF0ZSBiYXRjaCBpbiBjYXNlIG5vbmUgaXMgc2NoZWR1bGVkLlxuICovXG5mdW5jdGlvbiBfZXhlY3V0ZUFzQW5pbWF0ZWRCYXRjaChpZDogc3RyaW5nLCBvcGVyYXRpb246ICgpID0+IHZvaWQpIHtcbiAgTmF0aXZlQW5pbWF0ZWRBUEkuc2V0V2FpdGluZ0ZvcklkZW50aWZpZXIoaWQpO1xuICBvcGVyYXRpb24oKTtcbiAgTmF0aXZlQW5pbWF0ZWRBUEkudW5zZXRXYWl0aW5nRm9ySWRlbnRpZmllcihpZCk7XG59XG5cbi8qKlxuICogU3RhbmRhcmQgdmFsdWUgZm9yIGRyaXZpbmcgYW5pbWF0aW9ucy4gIE9uZSBgQW5pbWF0ZWQuVmFsdWVgIGNhbiBkcml2ZVxuICogbXVsdGlwbGUgcHJvcGVydGllcyBpbiBhIHN5bmNocm9uaXplZCBmYXNoaW9uLCBidXQgY2FuIG9ubHkgYmUgZHJpdmVuIGJ5IG9uZVxuICogbWVjaGFuaXNtIGF0IGEgdGltZS4gIFVzaW5nIGEgbmV3IG1lY2hhbmlzbSAoZS5nLiBzdGFydGluZyBhIG5ldyBhbmltYXRpb24sXG4gKiBvciBjYWxsaW5nIGBzZXRWYWx1ZWApIHdpbGwgc3RvcCBhbnkgcHJldmlvdXMgb25lcy5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlXG4gKi9cbmNsYXNzIEFuaW1hdGVkVmFsdWUgZXh0ZW5kcyBBbmltYXRlZFdpdGhDaGlsZHJlbiB7XG4gIF92YWx1ZTogbnVtYmVyO1xuICBfc3RhcnRpbmdWYWx1ZTogbnVtYmVyO1xuICBfb2Zmc2V0OiBudW1iZXI7XG4gIF9hbmltYXRpb246ID9BbmltYXRpb247XG4gIF90cmFja2luZzogP0FuaW1hdGVkVHJhY2tpbmc7XG5cbiAgY29uc3RydWN0b3IodmFsdWU6IG51bWJlciwgY29uZmlnPzogP0FuaW1hdGVkVmFsdWVDb25maWcpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuaW1hdGVkVmFsdWU6IEF0dGVtcHRpbmcgdG8gc2V0IHZhbHVlIHRvIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICB0aGlzLl9zdGFydGluZ1ZhbHVlID0gdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLl9vZmZzZXQgPSAwO1xuICAgIHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG4gICAgaWYgKGNvbmZpZyAmJiBjb25maWcudXNlTmF0aXZlRHJpdmVyKSB7XG4gICAgICB0aGlzLl9fbWFrZU5hdGl2ZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9fZGV0YWNoKCkge1xuICAgIGlmICh0aGlzLl9faXNOYXRpdmUpIHtcbiAgICAgIE5hdGl2ZUFuaW1hdGVkQVBJLmdldFZhbHVlKHRoaXMuX19nZXROYXRpdmVUYWcoKSwgdmFsdWUgPT4ge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlIC0gdGhpcy5fb2Zmc2V0O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuc3RvcEFuaW1hdGlvbigpO1xuICAgIHN1cGVyLl9fZGV0YWNoKCk7XG4gIH1cblxuICBfX2dldFZhbHVlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlICsgdGhpcy5fb2Zmc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIERpcmVjdGx5IHNldCB0aGUgdmFsdWUuICBUaGlzIHdpbGwgc3RvcCBhbnkgYW5pbWF0aW9ucyBydW5uaW5nIG9uIHRoZSB2YWx1ZVxuICAgKiBhbmQgdXBkYXRlIGFsbCB0aGUgYm91bmQgcHJvcGVydGllcy5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZSNzZXR2YWx1ZVxuICAgKi9cbiAgc2V0VmFsdWUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLl9hbmltYXRpb24pIHtcbiAgICAgIHRoaXMuX2FuaW1hdGlvbi5zdG9wKCk7XG4gICAgICB0aGlzLl9hbmltYXRpb24gPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVWYWx1ZShcbiAgICAgIHZhbHVlLFxuICAgICAgIXRoaXMuX19pc05hdGl2ZSAvKiBkb24ndCBwZXJmb3JtIGEgZmx1c2ggZm9yIG5hdGl2ZWx5IGRyaXZlbiB2YWx1ZXMgKi8sXG4gICAgKTtcbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBfZXhlY3V0ZUFzQW5pbWF0ZWRCYXRjaCh0aGlzLl9fZ2V0TmF0aXZlVGFnKCkudG9TdHJpbmcoKSwgKCkgPT5cbiAgICAgICAgTmF0aXZlQW5pbWF0ZWRBUEkuc2V0QW5pbWF0ZWROb2RlVmFsdWUodGhpcy5fX2dldE5hdGl2ZVRhZygpLCB2YWx1ZSksXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGFuIG9mZnNldCB0aGF0IGlzIGFwcGxpZWQgb24gdG9wIG9mIHdoYXRldmVyIHZhbHVlIGlzIHNldCwgd2hldGhlciB2aWFcbiAgICogYHNldFZhbHVlYCwgYW4gYW5pbWF0aW9uLCBvciBgQW5pbWF0ZWQuZXZlbnRgLiAgVXNlZnVsIGZvciBjb21wZW5zYXRpbmdcbiAgICogdGhpbmdzIGxpa2UgdGhlIHN0YXJ0IG9mIGEgcGFuIGdlc3R1cmUuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUjc2V0b2Zmc2V0XG4gICAqL1xuICBzZXRPZmZzZXQob2Zmc2V0OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9vZmZzZXQgPSBvZmZzZXQ7XG4gICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRBUEkuc2V0QW5pbWF0ZWROb2RlT2Zmc2V0KHRoaXMuX19nZXROYXRpdmVUYWcoKSwgb2Zmc2V0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWVyZ2VzIHRoZSBvZmZzZXQgdmFsdWUgaW50byB0aGUgYmFzZSB2YWx1ZSBhbmQgcmVzZXRzIHRoZSBvZmZzZXQgdG8gemVyby5cbiAgICogVGhlIGZpbmFsIG91dHB1dCBvZiB0aGUgdmFsdWUgaXMgdW5jaGFuZ2VkLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlI2ZsYXR0ZW5vZmZzZXRcbiAgICovXG4gIGZsYXR0ZW5PZmZzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5fdmFsdWUgKz0gdGhpcy5fb2Zmc2V0O1xuICAgIHRoaXMuX29mZnNldCA9IDA7XG4gICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRBUEkuZmxhdHRlbkFuaW1hdGVkTm9kZU9mZnNldCh0aGlzLl9fZ2V0TmF0aXZlVGFnKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBvZmZzZXQgdmFsdWUgdG8gdGhlIGJhc2UgdmFsdWUsIGFuZCByZXNldHMgdGhlIGJhc2UgdmFsdWUgdG8gemVyby5cbiAgICogVGhlIGZpbmFsIG91dHB1dCBvZiB0aGUgdmFsdWUgaXMgdW5jaGFuZ2VkLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlI2V4dHJhY3RvZmZzZXRcbiAgICovXG4gIGV4dHJhY3RPZmZzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5fb2Zmc2V0ICs9IHRoaXMuX3ZhbHVlO1xuICAgIHRoaXMuX3ZhbHVlID0gMDtcbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBOYXRpdmVBbmltYXRlZEFQSS5leHRyYWN0QW5pbWF0ZWROb2RlT2Zmc2V0KHRoaXMuX19nZXROYXRpdmVUYWcoKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIGFueSBydW5uaW5nIGFuaW1hdGlvbiBvciB0cmFja2luZy4gYGNhbGxiYWNrYCBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAqIGZpbmFsIHZhbHVlIGFmdGVyIHN0b3BwaW5nIHRoZSBhbmltYXRpb24sIHdoaWNoIGlzIHVzZWZ1bCBmb3IgdXBkYXRpbmdcbiAgICogc3RhdGUgdG8gbWF0Y2ggdGhlIGFuaW1hdGlvbiBwb3NpdGlvbiB3aXRoIGxheW91dC5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZSNzdG9wYW5pbWF0aW9uXG4gICAqL1xuICBzdG9wQW5pbWF0aW9uKGNhbGxiYWNrPzogPyh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wVHJhY2tpbmcoKTtcbiAgICB0aGlzLl9hbmltYXRpb24gJiYgdGhpcy5fYW5pbWF0aW9uLnN0b3AoKTtcbiAgICB0aGlzLl9hbmltYXRpb24gPSBudWxsO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgICBOYXRpdmVBbmltYXRlZEFQSS5nZXRWYWx1ZSh0aGlzLl9fZ2V0TmF0aXZlVGFnKCksIGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMuX19nZXRWYWx1ZSgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgYW55IGFuaW1hdGlvbiBhbmQgcmVzZXRzIHRoZSB2YWx1ZSB0byBpdHMgb3JpZ2luYWwuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUjcmVzZXRhbmltYXRpb25cbiAgICovXG4gIHJlc2V0QW5pbWF0aW9uKGNhbGxiYWNrPzogPyh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wQW5pbWF0aW9uKGNhbGxiYWNrKTtcbiAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX3N0YXJ0aW5nVmFsdWU7XG4gICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRBUEkuc2V0QW5pbWF0ZWROb2RlVmFsdWUoXG4gICAgICAgIHRoaXMuX19nZXROYXRpdmVUYWcoKSxcbiAgICAgICAgdGhpcy5fc3RhcnRpbmdWYWx1ZSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX19vbkFuaW1hdGVkVmFsdWVVcGRhdGVSZWNlaXZlZCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fdXBkYXRlVmFsdWUodmFsdWUsIGZhbHNlIC8qZmx1c2gqLyk7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJwb2xhdGVzIHRoZSB2YWx1ZSBiZWZvcmUgdXBkYXRpbmcgdGhlIHByb3BlcnR5LCBlLmcuIG1hcHBpbmcgMC0xIHRvXG4gICAqIDAtMTAuXG4gICAqL1xuICBpbnRlcnBvbGF0ZTxPdXRwdXRUOiBudW1iZXIgfCBzdHJpbmc+KFxuICAgIGNvbmZpZzogSW50ZXJwb2xhdGlvbkNvbmZpZ1R5cGU8T3V0cHV0VD4sXG4gICk6IEFuaW1hdGVkSW50ZXJwb2xhdGlvbjxPdXRwdXRUPiB7XG4gICAgcmV0dXJuIG5ldyBBbmltYXRlZEludGVycG9sYXRpb24odGhpcywgY29uZmlnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUeXBpY2FsbHkgb25seSB1c2VkIGludGVybmFsbHksIGJ1dCBjb3VsZCBiZSB1c2VkIGJ5IGEgY3VzdG9tIEFuaW1hdGlvblxuICAgKiBjbGFzcy5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZSNhbmltYXRlXG4gICAqL1xuICBhbmltYXRlKGFuaW1hdGlvbjogQW5pbWF0aW9uLCBjYWxsYmFjazogP0VuZENhbGxiYWNrKTogdm9pZCB7XG4gICAgbGV0IGhhbmRsZSA9IG51bGw7XG4gICAgaWYgKGFuaW1hdGlvbi5fX2lzSW50ZXJhY3Rpb24pIHtcbiAgICAgIGhhbmRsZSA9IEludGVyYWN0aW9uTWFuYWdlci5jcmVhdGVJbnRlcmFjdGlvbkhhbmRsZSgpO1xuICAgIH1cbiAgICBjb25zdCBwcmV2aW91c0FuaW1hdGlvbiA9IHRoaXMuX2FuaW1hdGlvbjtcbiAgICB0aGlzLl9hbmltYXRpb24gJiYgdGhpcy5fYW5pbWF0aW9uLnN0b3AoKTtcbiAgICB0aGlzLl9hbmltYXRpb24gPSBhbmltYXRpb247XG4gICAgYW5pbWF0aW9uLnN0YXJ0KFxuICAgICAgdGhpcy5fdmFsdWUsXG4gICAgICB2YWx1ZSA9PiB7XG4gICAgICAgIC8vIE5hdGl2ZWx5IGRyaXZlbiBhbmltYXRpb25zIHdpbGwgbmV2ZXIgY2FsbCBpbnRvIHRoYXQgY2FsbGJhY2ssIHRoZXJlZm9yZSB3ZSBjYW4gYWx3YXlzXG4gICAgICAgIC8vIHBhc3MgZmx1c2ggPSB0cnVlIHRvIGFsbG93IHRoZSB1cGRhdGVkIHZhbHVlIHRvIHByb3BhZ2F0ZSB0byBuYXRpdmUgd2l0aCBzZXROYXRpdmVQcm9wc1xuICAgICAgICB0aGlzLl91cGRhdGVWYWx1ZSh2YWx1ZSwgdHJ1ZSAvKiBmbHVzaCAqLyk7XG4gICAgICB9LFxuICAgICAgcmVzdWx0ID0+IHtcbiAgICAgICAgdGhpcy5fYW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgaWYgKGhhbmRsZSAhPT0gbnVsbCkge1xuICAgICAgICAgIEludGVyYWN0aW9uTWFuYWdlci5jbGVhckludGVyYWN0aW9uSGFuZGxlKGhhbmRsZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzdWx0KTtcbiAgICAgIH0sXG4gICAgICBwcmV2aW91c0FuaW1hdGlvbixcbiAgICAgIHRoaXMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUeXBpY2FsbHkgb25seSB1c2VkIGludGVybmFsbHkuXG4gICAqL1xuICBzdG9wVHJhY2tpbmcoKTogdm9pZCB7XG4gICAgdGhpcy5fdHJhY2tpbmcgJiYgdGhpcy5fdHJhY2tpbmcuX19kZXRhY2goKTtcbiAgICB0aGlzLl90cmFja2luZyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogVHlwaWNhbGx5IG9ubHkgdXNlZCBpbnRlcm5hbGx5LlxuICAgKi9cbiAgdHJhY2sodHJhY2tpbmc6IEFuaW1hdGVkVHJhY2tpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BUcmFja2luZygpO1xuICAgIHRoaXMuX3RyYWNraW5nID0gdHJhY2tpbmc7XG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIHRyYWNraW5nIGFuaW1hdGlvbiBzdGFydHMgZXhlY3V0aW5nXG4gICAgdGhpcy5fdHJhY2tpbmcgJiYgdGhpcy5fdHJhY2tpbmcudXBkYXRlKCk7XG4gIH1cblxuICBfdXBkYXRlVmFsdWUodmFsdWU6IG51bWJlciwgZmx1c2g6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbmltYXRlZFZhbHVlOiBBdHRlbXB0aW5nIHRvIHNldCB2YWx1ZSB0byB1bmRlZmluZWQnKTtcbiAgICB9XG5cbiAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIGlmIChmbHVzaCkge1xuICAgICAgX2ZsdXNoKHRoaXMpO1xuICAgIH1cbiAgICBzdXBlci5fX2NhbGxMaXN0ZW5lcnModGhpcy5fX2dldFZhbHVlKCkpO1xuICB9XG5cbiAgX19nZXROYXRpdmVDb25maWcoKTogT2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3ZhbHVlJyxcbiAgICAgIHZhbHVlOiB0aGlzLl92YWx1ZSxcbiAgICAgIG9mZnNldDogdGhpcy5fb2Zmc2V0LFxuICAgIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBbmltYXRlZFZhbHVlO1xuIl0sIm1hcHBpbmdzIjoiQUFVQSxZQUFZOztBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxnQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUUsYUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUksVUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUssMkJBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFNLGdCQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxTQUFBTyxhQUFBQyxPQUFBLFFBQUFDLHlCQUFBLEdBQUFDLHlCQUFBLG9CQUFBQyxxQkFBQSxRQUFBQyxLQUFBLE9BQUFOLGdCQUFBLENBQUFPLE9BQUEs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