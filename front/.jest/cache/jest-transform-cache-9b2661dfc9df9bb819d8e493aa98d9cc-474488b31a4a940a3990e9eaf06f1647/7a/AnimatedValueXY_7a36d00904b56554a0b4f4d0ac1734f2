f05cc67c15d922cadd3012a2bc119824
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var AnimatedValue = require("./AnimatedValue");
var AnimatedWithChildren = require("./AnimatedWithChildren");
var invariant = require('invariant');
var _uniqueId = 1;
var AnimatedValueXY = function (_AnimatedWithChildren) {
  (0, _inherits2.default)(AnimatedValueXY, _AnimatedWithChildren);
  var _super = _createSuper(AnimatedValueXY);
  function AnimatedValueXY(valueIn, config) {
    var _this;
    (0, _classCallCheck2.default)(this, AnimatedValueXY);
    _this = _super.call(this);
    var value = valueIn || {
      x: 0,
      y: 0
    };
    if (typeof value.x === 'number' && typeof value.y === 'number') {
      _this.x = new AnimatedValue(value.x);
      _this.y = new AnimatedValue(value.y);
    } else {
      invariant(value.x instanceof AnimatedValue && value.y instanceof AnimatedValue, 'AnimatedValueXY must be initialized with an object of numbers or ' + 'AnimatedValues.');
      _this.x = value.x;
      _this.y = value.y;
    }
    _this._listeners = {};
    if (config && config.useNativeDriver) {
      _this.__makeNative();
    }
    return _this;
  }
  (0, _createClass2.default)(AnimatedValueXY, [{
    key: "setValue",
    value: function setValue(value) {
      this.x.setValue(value.x);
      this.y.setValue(value.y);
    }
  }, {
    key: "setOffset",
    value: function setOffset(offset) {
      this.x.setOffset(offset.x);
      this.y.setOffset(offset.y);
    }
  }, {
    key: "flattenOffset",
    value: function flattenOffset() {
      this.x.flattenOffset();
      this.y.flattenOffset();
    }
  }, {
    key: "extractOffset",
    value: function extractOffset() {
      this.x.extractOffset();
      this.y.extractOffset();
    }
  }, {
    key: "__getValue",
    value: function __getValue() {
      return {
        x: this.x.__getValue(),
        y: this.y.__getValue()
      };
    }
  }, {
    key: "resetAnimation",
    value: function resetAnimation(callback) {
      this.x.resetAnimation();
      this.y.resetAnimation();
      callback && callback(this.__getValue());
    }
  }, {
    key: "stopAnimation",
    value: function stopAnimation(callback) {
      this.x.stopAnimation();
      this.y.stopAnimation();
      callback && callback(this.__getValue());
    }
  }, {
    key: "addListener",
    value: function addListener(callback) {
      var _this2 = this;
      var id = String(_uniqueId++);
      var jointCallback = function jointCallback(_ref) {
        var number = _ref.value;
        callback(_this2.__getValue());
      };
      this._listeners[id] = {
        x: this.x.addListener(jointCallback),
        y: this.y.addListener(jointCallback)
      };
      return id;
    }
  }, {
    key: "removeListener",
    value: function removeListener(id) {
      this.x.removeListener(this._listeners[id].x);
      this.y.removeListener(this._listeners[id].y);
      delete this._listeners[id];
    }
  }, {
    key: "removeAllListeners",
    value: function removeAllListeners() {
      this.x.removeAllListeners();
      this.y.removeAllListeners();
      this._listeners = {};
    }
  }, {
    key: "getLayout",
    value: function getLayout() {
      return {
        left: this.x,
        top: this.y
      };
    }
  }, {
    key: "getTranslateTransform",
    value: function getTranslateTransform() {
      return [{
        translateX: this.x
      }, {
        translateY: this.y
      }];
    }
  }, {
    key: "__attach",
    value: function __attach() {
      this.x.__addChild(this);
      this.y.__addChild(this);
      (0, _get2.default)((0, _getPrototypeOf2.default)(AnimatedValueXY.prototype), "__attach", this).call(this);
    }
  }, {
    key: "__detach",
    value: function __detach() {
      this.x.__removeChild(this);
      this.y.__removeChild(this);
      (0, _get2.default)((0, _getPrototypeOf2.default)(AnimatedValueXY.prototype), "__detach", this).call(this);
    }
  }, {
    key: "__makeNative",
    value: function __makeNative(platformConfig) {
      this.x.__makeNative(platformConfig);
      this.y.__makeNative(platformConfig);
      (0, _get2.default)((0, _getPrototypeOf2.default)(AnimatedValueXY.prototype), "__makeNative", this).call(this, platformConfig);
    }
  }]);
  return AnimatedValueXY;
}(AnimatedWithChildren);
module.exports = AnimatedValueXY;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiX2dldDIiLCJfaW5oZXJpdHMyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2dldFByb3RvdHlwZU9mMiIsIl9jcmVhdGVTdXBlciIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9jcmVhdGVTdXBlckludGVybmFsIiwiU3VwZXIiLCJkZWZhdWx0IiwicmVzdWx0IiwiTmV3VGFyZ2V0IiwiY29uc3RydWN0b3IiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiYXJndW1lbnRzIiwiYXBwbHkiLCJzaGFtIiwiUHJveHkiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsImNhbGwiLCJlIiwiQW5pbWF0ZWRWYWx1ZSIsIkFuaW1hdGVkV2l0aENoaWxkcmVuIiwiaW52YXJpYW50IiwiX3VuaXF1ZUlkIiwiQW5pbWF0ZWRWYWx1ZVhZIiwiX0FuaW1hdGVkV2l0aENoaWxkcmVuIiwiX3N1cGVyIiwidmFsdWVJbiIsImNvbmZpZyIsIl90aGlzIiwidmFsdWUiLCJ4IiwieSIsIl9saXN0ZW5lcnMiLCJ1c2VOYXRpdmVEcml2ZXIiLCJfX21ha2VOYXRpdmUiLCJrZXkiLCJzZXRWYWx1ZSIsInNldE9mZnNldCIsIm9mZnNldCIsImZsYXR0ZW5PZmZzZXQiLCJleHRyYWN0T2Zmc2V0IiwiX19nZXRWYWx1ZSIsInJlc2V0QW5pbWF0aW9uIiwiY2FsbGJhY2siLCJzdG9wQW5pbWF0aW9uIiwiYWRkTGlzdGVuZXIiLCJfdGhpczIiLCJpZCIsIlN0cmluZyIsImpvaW50Q2FsbGJhY2siLCJfcmVmIiwibnVtYmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJnZXRMYXlvdXQiLCJsZWZ0IiwidG9wIiwiZ2V0VHJhbnNsYXRlVHJhbnNmb3JtIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJfX2F0dGFjaCIsIl9fYWRkQ2hpbGQiLCJfX2RldGFjaCIsIl9fcmVtb3ZlQ2hpbGQiLCJwbGF0Zm9ybUNvbmZpZyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJBbmltYXRlZFZhbHVlWFkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdHlwZSB7UGxhdGZvcm1Db25maWd9IGZyb20gJy4uL0FuaW1hdGVkUGxhdGZvcm1Db25maWcnO1xuXG5jb25zdCBBbmltYXRlZFZhbHVlID0gcmVxdWlyZSgnLi9BbmltYXRlZFZhbHVlJyk7XG5jb25zdCBBbmltYXRlZFdpdGhDaGlsZHJlbiA9IHJlcXVpcmUoJy4vQW5pbWF0ZWRXaXRoQ2hpbGRyZW4nKTtcblxuY29uc3QgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbmV4cG9ydCB0eXBlIEFuaW1hdGVkVmFsdWVYWUNvbmZpZyA9ICRSZWFkT25seTx7XG4gIHVzZU5hdGl2ZURyaXZlcjogYm9vbGVhbixcbn0+O1xudHlwZSBWYWx1ZVhZTGlzdGVuZXJDYWxsYmFjayA9ICh2YWx1ZToge1xuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlcixcbiAgLi4uXG59KSA9PiBtaXhlZDtcblxubGV0IF91bmlxdWVJZCA9IDE7XG5cbi8qKlxuICogMkQgVmFsdWUgZm9yIGRyaXZpbmcgMkQgYW5pbWF0aW9ucywgc3VjaCBhcyBwYW4gZ2VzdHVyZXMuIEFsbW9zdCBpZGVudGljYWxcbiAqIEFQSSB0byBub3JtYWwgYEFuaW1hdGVkLlZhbHVlYCwgYnV0IG11bHRpcGxleGVkLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eVxuICovXG5jbGFzcyBBbmltYXRlZFZhbHVlWFkgZXh0ZW5kcyBBbmltYXRlZFdpdGhDaGlsZHJlbiB7XG4gIHg6IEFuaW1hdGVkVmFsdWU7XG4gIHk6IEFuaW1hdGVkVmFsdWU7XG4gIF9saXN0ZW5lcnM6IHtcbiAgICBba2V5OiBzdHJpbmddOiB7XG4gICAgICB4OiBzdHJpbmcsXG4gICAgICB5OiBzdHJpbmcsXG4gICAgICAuLi5cbiAgICB9LFxuICAgIC4uLlxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHZhbHVlSW4/OiA/e1xuICAgICAgK3g6IG51bWJlciB8IEFuaW1hdGVkVmFsdWUsXG4gICAgICAreTogbnVtYmVyIHwgQW5pbWF0ZWRWYWx1ZSxcbiAgICAgIC4uLlxuICAgIH0sXG4gICAgY29uZmlnPzogP0FuaW1hdGVkVmFsdWVYWUNvbmZpZyxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjb25zdCB2YWx1ZTogYW55ID0gdmFsdWVJbiB8fCB7eDogMCwgeTogMH07IC8vIEBmbG93Zml4bWU6IHNob3VsZG4ndCBuZWVkIGA6IGFueWBcbiAgICBpZiAodHlwZW9mIHZhbHVlLnggPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWx1ZS55ID09PSAnbnVtYmVyJykge1xuICAgICAgdGhpcy54ID0gbmV3IEFuaW1hdGVkVmFsdWUodmFsdWUueCk7XG4gICAgICB0aGlzLnkgPSBuZXcgQW5pbWF0ZWRWYWx1ZSh2YWx1ZS55KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICB2YWx1ZS54IGluc3RhbmNlb2YgQW5pbWF0ZWRWYWx1ZSAmJiB2YWx1ZS55IGluc3RhbmNlb2YgQW5pbWF0ZWRWYWx1ZSxcbiAgICAgICAgJ0FuaW1hdGVkVmFsdWVYWSBtdXN0IGJlIGluaXRpYWxpemVkIHdpdGggYW4gb2JqZWN0IG9mIG51bWJlcnMgb3IgJyArXG4gICAgICAgICAgJ0FuaW1hdGVkVmFsdWVzLicsXG4gICAgICApO1xuICAgICAgdGhpcy54ID0gdmFsdWUueDtcbiAgICAgIHRoaXMueSA9IHZhbHVlLnk7XG4gICAgfVxuICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuICAgIGlmIChjb25maWcgJiYgY29uZmlnLnVzZU5hdGl2ZURyaXZlcikge1xuICAgICAgdGhpcy5fX21ha2VOYXRpdmUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlyZWN0bHkgc2V0IHRoZSB2YWx1ZS4gVGhpcyB3aWxsIHN0b3AgYW55IGFuaW1hdGlvbnMgcnVubmluZyBvbiB0aGUgdmFsdWVcbiAgICogYW5kIHVwZGF0ZSBhbGwgdGhlIGJvdW5kIHByb3BlcnRpZXMuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eSNzZXR2YWx1ZVxuICAgKi9cbiAgc2V0VmFsdWUodmFsdWU6IHt4OiBudW1iZXIsIHk6IG51bWJlciwgLi4ufSkge1xuICAgIHRoaXMueC5zZXRWYWx1ZSh2YWx1ZS54KTtcbiAgICB0aGlzLnkuc2V0VmFsdWUodmFsdWUueSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhbiBvZmZzZXQgdGhhdCBpcyBhcHBsaWVkIG9uIHRvcCBvZiB3aGF0ZXZlciB2YWx1ZSBpcyBzZXQsIHdoZXRoZXJcbiAgICogdmlhIGBzZXRWYWx1ZWAsIGFuIGFuaW1hdGlvbiwgb3IgYEFuaW1hdGVkLmV2ZW50YC4gVXNlZnVsIGZvciBjb21wZW5zYXRpbmdcbiAgICogdGhpbmdzIGxpa2UgdGhlIHN0YXJ0IG9mIGEgcGFuIGdlc3R1cmUuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eSNzZXRvZmZzZXRcbiAgICovXG4gIHNldE9mZnNldChvZmZzZXQ6IHt4OiBudW1iZXIsIHk6IG51bWJlciwgLi4ufSkge1xuICAgIHRoaXMueC5zZXRPZmZzZXQob2Zmc2V0LngpO1xuICAgIHRoaXMueS5zZXRPZmZzZXQob2Zmc2V0LnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1lcmdlcyB0aGUgb2Zmc2V0IHZhbHVlIGludG8gdGhlIGJhc2UgdmFsdWUgYW5kIHJlc2V0cyB0aGUgb2Zmc2V0IHRvIHplcm8uXG4gICAqIFRoZSBmaW5hbCBvdXRwdXQgb2YgdGhlIHZhbHVlIGlzIHVuY2hhbmdlZC5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5I2ZsYXR0ZW5vZmZzZXRcbiAgICovXG4gIGZsYXR0ZW5PZmZzZXQoKTogdm9pZCB7XG4gICAgdGhpcy54LmZsYXR0ZW5PZmZzZXQoKTtcbiAgICB0aGlzLnkuZmxhdHRlbk9mZnNldCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG9mZnNldCB2YWx1ZSB0byB0aGUgYmFzZSB2YWx1ZSwgYW5kIHJlc2V0cyB0aGUgYmFzZSB2YWx1ZSB0b1xuICAgKiB6ZXJvLiBUaGUgZmluYWwgb3V0cHV0IG9mIHRoZSB2YWx1ZSBpcyB1bmNoYW5nZWQuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eSNleHRyYWN0b2Zmc2V0XG4gICAqL1xuICBleHRyYWN0T2Zmc2V0KCk6IHZvaWQge1xuICAgIHRoaXMueC5leHRyYWN0T2Zmc2V0KCk7XG4gICAgdGhpcy55LmV4dHJhY3RPZmZzZXQoKTtcbiAgfVxuXG4gIF9fZ2V0VmFsdWUoKToge1xuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgLi4uXG4gIH0ge1xuICAgIHJldHVybiB7XG4gICAgICB4OiB0aGlzLnguX19nZXRWYWx1ZSgpLFxuICAgICAgeTogdGhpcy55Ll9fZ2V0VmFsdWUoKSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIGFueSBhbmltYXRpb24gYW5kIHJlc2V0cyB0aGUgdmFsdWUgdG8gaXRzIG9yaWdpbmFsLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVleHkjcmVzZXRhbmltYXRpb25cbiAgICovXG4gIHJlc2V0QW5pbWF0aW9uKFxuICAgIGNhbGxiYWNrPzogKHZhbHVlOiB7XG4gICAgICB4OiBudW1iZXIsXG4gICAgICB5OiBudW1iZXIsXG4gICAgICAuLi5cbiAgICB9KSA9PiB2b2lkLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLngucmVzZXRBbmltYXRpb24oKTtcbiAgICB0aGlzLnkucmVzZXRBbmltYXRpb24oKTtcbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh0aGlzLl9fZ2V0VmFsdWUoKSk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgYW55IHJ1bm5pbmcgYW5pbWF0aW9uIG9yIHRyYWNraW5nLiBgY2FsbGJhY2tgIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICogZmluYWwgdmFsdWUgYWZ0ZXIgc3RvcHBpbmcgdGhlIGFuaW1hdGlvbiwgd2hpY2ggaXMgdXNlZnVsIGZvciB1cGRhdGluZ1xuICAgKiBzdGF0ZSB0byBtYXRjaCB0aGUgYW5pbWF0aW9uIHBvc2l0aW9uIHdpdGggbGF5b3V0LlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVleHkjc3RvcGFuaW1hdGlvblxuICAgKi9cbiAgc3RvcEFuaW1hdGlvbihcbiAgICBjYWxsYmFjaz86ICh2YWx1ZToge1xuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgLi4uXG4gICAgfSkgPT4gdm9pZCxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy54LnN0b3BBbmltYXRpb24oKTtcbiAgICB0aGlzLnkuc3RvcEFuaW1hdGlvbigpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHRoaXMuX19nZXRWYWx1ZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGFuIGFzeW5jaHJvbm91cyBsaXN0ZW5lciB0byB0aGUgdmFsdWUgc28geW91IGNhbiBvYnNlcnZlIHVwZGF0ZXMgZnJvbVxuICAgKiBhbmltYXRpb25zLiAgVGhpcyBpcyB1c2VmdWwgYmVjYXVzZSB0aGVyZSBpcyBubyB3YXkgdG8gc3luY2hyb25vdXNseSByZWFkXG4gICAqIHRoZSB2YWx1ZSBiZWNhdXNlIGl0IG1pZ2h0IGJlIGRyaXZlbiBuYXRpdmVseS5cbiAgICpcbiAgICogUmV0dXJucyBhIHN0cmluZyB0aGF0IHNlcnZlcyBhcyBhbiBpZGVudGlmaWVyIGZvciB0aGUgbGlzdGVuZXIuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eSNhZGRsaXN0ZW5lclxuICAgKi9cbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2s6IFZhbHVlWFlMaXN0ZW5lckNhbGxiYWNrKTogc3RyaW5nIHtcbiAgICBjb25zdCBpZCA9IFN0cmluZyhfdW5pcXVlSWQrKyk7XG4gICAgY29uc3Qgam9pbnRDYWxsYmFjayA9ICh7dmFsdWU6IG51bWJlcn06IGFueSkgPT4ge1xuICAgICAgY2FsbGJhY2sodGhpcy5fX2dldFZhbHVlKCkpO1xuICAgIH07XG4gICAgdGhpcy5fbGlzdGVuZXJzW2lkXSA9IHtcbiAgICAgIHg6IHRoaXMueC5hZGRMaXN0ZW5lcihqb2ludENhbGxiYWNrKSxcbiAgICAgIHk6IHRoaXMueS5hZGRMaXN0ZW5lcihqb2ludENhbGxiYWNrKSxcbiAgICB9O1xuICAgIHJldHVybiBpZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVyIGEgbGlzdGVuZXIuIFRoZSBgaWRgIHBhcmFtIHNoYWxsIG1hdGNoIHRoZSBpZGVudGlmaWVyXG4gICAqIHByZXZpb3VzbHkgcmV0dXJuZWQgYnkgYGFkZExpc3RlbmVyKClgLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVleHkjcmVtb3ZlbGlzdGVuZXJcbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLngucmVtb3ZlTGlzdGVuZXIodGhpcy5fbGlzdGVuZXJzW2lkXS54KTtcbiAgICB0aGlzLnkucmVtb3ZlTGlzdGVuZXIodGhpcy5fbGlzdGVuZXJzW2lkXS55KTtcbiAgICBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2lkXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVleHkjcmVtb3ZlYWxsbGlzdGVuZXJzXG4gICAqL1xuICByZW1vdmVBbGxMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgdGhpcy54LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHRoaXMueS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBge3gsIHl9YCBpbnRvIGB7bGVmdCwgdG9wfWAgZm9yIHVzZSBpbiBzdHlsZS5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5I2dldGxheW91dFxuICAgKi9cbiAgZ2V0TGF5b3V0KCk6IHtba2V5OiBzdHJpbmddOiBBbmltYXRlZFZhbHVlLCAuLi59IHtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogdGhpcy54LFxuICAgICAgdG9wOiB0aGlzLnksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBge3gsIHl9YCBpbnRvIGEgdXNlYWJsZSB0cmFuc2xhdGlvbiB0cmFuc2Zvcm0uXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eSNnZXR0cmFuc2xhdGV0cmFuc2Zvcm1cbiAgICovXG4gIGdldFRyYW5zbGF0ZVRyYW5zZm9ybSgpOiBBcnJheTx7W2tleTogc3RyaW5nXTogQW5pbWF0ZWRWYWx1ZSwgLi4ufT4ge1xuICAgIHJldHVybiBbe3RyYW5zbGF0ZVg6IHRoaXMueH0sIHt0cmFuc2xhdGVZOiB0aGlzLnl9XTtcbiAgfVxuXG4gIF9fYXR0YWNoKCk6IHZvaWQge1xuICAgIHRoaXMueC5fX2FkZENoaWxkKHRoaXMpO1xuICAgIHRoaXMueS5fX2FkZENoaWxkKHRoaXMpO1xuICAgIHN1cGVyLl9fYXR0YWNoKCk7XG4gIH1cblxuICBfX2RldGFjaCgpOiB2b2lkIHtcbiAgICB0aGlzLnguX19yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICB0aGlzLnkuX19yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICBzdXBlci5fX2RldGFjaCgpO1xuICB9XG5cbiAgX19tYWtlTmF0aXZlKHBsYXRmb3JtQ29uZmlnOiA/UGxhdGZvcm1Db25maWcpIHtcbiAgICB0aGlzLnguX19tYWtlTmF0aXZlKHBsYXRmb3JtQ29uZmlnKTtcbiAgICB0aGlzLnkuX19tYWtlTmF0aXZlKHBsYXRmb3JtQ29uZmlnKTtcbiAgICBzdXBlci5fX21ha2VOYXRpdmUocGxhdGZvcm1Db25maWcpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQW5pbWF0ZWRWYWx1ZVhZO1xuIl0sIm1hcHBpbmdzIjoiQUFVQSxZQUFZOztBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxnQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUUsYUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUksVUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUssMkJBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFNLGdCQUFBLEdBQUFQLHNCQUFBLENBQUFD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